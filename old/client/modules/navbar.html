<header class="navbar navbar-expand-md d-print-none" id="navbar">
  <div class="container-fluid">
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbar-menu"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <h1 class="navbar-brand d-none-navbar-horizontal pe-0 pe-md-3">
      <a href="/" style="text-decoration: none !important">
        <img
          src="/logo.png"
          style="height: 1.5em; vertical-align: sub"
          alt="YTMusic"
          class="navbar-brand-image d-inline"
        />
        <span style="display: inline-block">YTMusic</span>
      </a>
    </h1>
    <div class="collapse navbar-collapse" id="navbar-menu">
      <div
        class="d-flex flex-column flex-md-row flex-fill align-items-stretch align-items-md-center"
      >
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/">
              <span class="nav-link-title">Artists</span>
            </a>
          </li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/add">
              <span class="nav-link-title">Add Artist</span>
            </a>
          </li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/settings">
              <span class="nav-link-title">Settings</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>

<script>
  window._ = (id) => document.getElementById(id);
  [
    ...[...document.querySelectorAll(".nav-item:not(.dropdown)")].filter(
      (n) => n.firstElementChild.href == window.location.href
    ),
    ...[...document.querySelectorAll(".nav-item.dropdown")].filter((n) =>
      [...n.lastElementChild.childNodes].map((nn) => nn.href == window.location.href).includes(true)
    ),
  ].map((a) => a.classList.add("active"));
</script>
<script>
  window.Theme = {};
  window.Theme.current = localStorage.getItem("theme") || "dark";
  window.Theme.init = function () {
    document.body.classList.remove("theme-light", "theme-dark");
    document.body.classList.add(`theme-${window.Theme.current}`);
    _("navbar").classList.remove("navbar-light", "navbar-dark");
    _("navbar").classList.add(`navbar-${window.Theme.current}`);
  };
  window.Theme.toggle = function () {
    if (window.Theme.current == "light") {
      window.Theme.current = "dark";
      localStorage.setItem("theme", "dark");
      window.Theme.init();
    } else {
      window.Theme.current = "light";
      localStorage.setItem("theme", "light");
      window.Theme.init();
    }
  };
  window.Theme.init();
</script>
